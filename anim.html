<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>HTML5 Template</title>
  <meta name="description" content="HTML5">
  <meta name="author" content="Author">

  <link rel="stylesheet" href="css/styles.css?v=1.0">

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <style>
  div {
    display: block;
    overflow: hidden;
  }
  table {
    background-color: beige;
    float: left;
    margin-right: 30px;
  }
  tr {
    height: 20px;
    line-height: 20px;
    overflow: hidden;
    white-space: nowrap;
  }
  td {
    border: 1px solid #000;
    height: 20px;
    width: 20px;
  }
  </style>

</head>

<body>
<div>
<table id="table1">
<tr>
  <td data-x="0" data-y="0"></td>
  <td data-x="1" data-y="0"></td>
  <td data-x="2" data-y="0"></td>
  <td data-x="3" data-y="0"></td>
  <td data-x="4" data-y="0"></td>
  <td data-x="5" data-y="0"></td>
  <td data-x="6" data-y="0"></td>
  <td data-x="7" data-y="0"></td>
  <td data-x="8" data-y="0"></td>
  <td data-x="9" data-y="0"></td>
</tr>
<tr>
  <td data-x="0" data-y="1"></td>
  <td data-x="1" data-y="1"></td>
  <td data-x="2" data-y="1"></td>
  <td data-x="3" data-y="1"></td>
  <td data-x="4" data-y="1"></td>
  <td data-x="5" data-y="1"></td>
  <td data-x="6" data-y="1"></td>
  <td data-x="7" data-y="1"></td>
  <td data-x="8" data-y="1"></td>
  <td data-x="9" data-y="1"></td>
</tr>
<tr>
  <td data-x="0" data-y="2"></td>
  <td data-x="1" data-y="2"></td>
  <td data-x="2" data-y="2"></td>
  <td data-x="3" data-y="2"></td>
  <td data-x="4" data-y="2"></td>
  <td data-x="5" data-y="2"></td>
  <td data-x="6" data-y="2"></td>
  <td data-x="7" data-y="2"></td>
  <td data-x="8" data-y="2"></td>
  <td data-x="9" data-y="2"></td>
</tr>
<tr>
  <td data-x="0" data-y="3"></td>
  <td data-x="1" data-y="3"></td>
  <td data-x="2" data-y="3"></td>
  <td data-x="3" data-y="3"></td>
  <td data-x="4" data-y="3"></td>
  <td data-x="5" data-y="3"></td>
  <td data-x="6" data-y="3"></td>
  <td data-x="7" data-y="3"></td>
  <td data-x="8" data-y="3"></td>
  <td data-x="9" data-y="3"></td>
</tr>
</table>

<table id="table2">
<tr>
  <td data-x="0" data-y="0"></td>
  <td data-x="1" data-y="0"></td>
  <td data-x="2" data-y="0"></td>
  <td data-x="3" data-y="0"></td>
  <td data-x="4" data-y="0"></td>
  <td data-x="5" data-y="0"></td>
  <td data-x="6" data-y="0"></td>
  <td data-x="7" data-y="0"></td>
  <td data-x="8" data-y="0"></td>
  <td data-x="9" data-y="0"></td>
</tr>
<tr>
  <td data-x="0" data-y="1"></td>
  <td data-x="1" data-y="1"></td>
  <td data-x="2" data-y="1"></td>
  <td data-x="3" data-y="1"></td>
  <td data-x="4" data-y="1"></td>
  <td data-x="5" data-y="1"></td>
  <td data-x="6" data-y="1"></td>
  <td data-x="7" data-y="1"></td>
  <td data-x="8" data-y="1"></td>
  <td data-x="9" data-y="1"></td>
</tr>
<tr>
  <td data-x="0" data-y="2"></td>
  <td data-x="1" data-y="2"></td>
  <td data-x="2" data-y="2"></td>
  <td data-x="3" data-y="2"></td>
  <td data-x="4" data-y="2"></td>
  <td data-x="5" data-y="2"></td>
  <td data-x="6" data-y="2"></td>
  <td data-x="7" data-y="2"></td>
  <td data-x="8" data-y="2"></td>
  <td data-x="9" data-y="2"></td>
</tr>
<tr>
  <td data-x="0" data-y="3"></td>
  <td data-x="1" data-y="3"></td>
  <td data-x="2" data-y="3"></td>
  <td data-x="3" data-y="3"></td>
  <td data-x="4" data-y="3"></td>
  <td data-x="5" data-y="3"></td>
  <td data-x="6" data-y="3"></td>
  <td data-x="7" data-y="3"></td>
  <td data-x="8" data-y="3"></td>
  <td data-x="9" data-y="3"></td>
</tr>
</table>

<table id="table3">
<tr>
  <td data-x="0" data-y="0"></td>
  <td data-x="1" data-y="0"></td>
  <td data-x="2" data-y="0"></td>
  <td data-x="3" data-y="0"></td>
  <td data-x="4" data-y="0"></td>
  <td data-x="5" data-y="0"></td>
  <td data-x="6" data-y="0"></td>
  <td data-x="7" data-y="0"></td>
  <td data-x="8" data-y="0"></td>
  <td data-x="9" data-y="0"></td>
</tr>
<tr>
  <td data-x="0" data-y="1"></td>
  <td data-x="1" data-y="1"></td>
  <td data-x="2" data-y="1"></td>
  <td data-x="3" data-y="1"></td>
  <td data-x="4" data-y="1"></td>
  <td data-x="5" data-y="1"></td>
  <td data-x="6" data-y="1"></td>
  <td data-x="7" data-y="1"></td>
  <td data-x="8" data-y="1"></td>
  <td data-x="9" data-y="1"></td>
</tr>
<tr>
  <td data-x="0" data-y="2"></td>
  <td data-x="1" data-y="2"></td>
  <td data-x="2" data-y="2"></td>
  <td data-x="3" data-y="2"></td>
  <td data-x="4" data-y="2"></td>
  <td data-x="5" data-y="2"></td>
  <td data-x="6" data-y="2"></td>
  <td data-x="7" data-y="2"></td>
  <td data-x="8" data-y="2"></td>
  <td data-x="9" data-y="2"></td>
</tr>
<tr>
  <td data-x="0" data-y="3"></td>
  <td data-x="1" data-y="3"></td>
  <td data-x="2" data-y="3"></td>
  <td data-x="3" data-y="3"></td>
  <td data-x="4" data-y="3"></td>
  <td data-x="5" data-y="3"></td>
  <td data-x="6" data-y="3"></td>
  <td data-x="7" data-y="3"></td>
  <td data-x="8" data-y="3"></td>
  <td data-x="9" data-y="3"></td>
</tr>
</table>

<table id="table4">
<tr>
  <td data-x="0" data-y="0"></td>
  <td data-x="1" data-y="0"></td>
  <td data-x="2" data-y="0"></td>
  <td data-x="3" data-y="0"></td>
  <td data-x="4" data-y="0"></td>
  <td data-x="5" data-y="0"></td>
  <td data-x="6" data-y="0"></td>
  <td data-x="7" data-y="0"></td>
  <td data-x="8" data-y="0"></td>
  <td data-x="9" data-y="0"></td>
</tr>
<tr>
  <td data-x="0" data-y="1"></td>
  <td data-x="1" data-y="1"></td>
  <td data-x="2" data-y="1"></td>
  <td data-x="3" data-y="1"></td>
  <td data-x="4" data-y="1"></td>
  <td data-x="5" data-y="1"></td>
  <td data-x="6" data-y="1"></td>
  <td data-x="7" data-y="1"></td>
  <td data-x="8" data-y="1"></td>
  <td data-x="9" data-y="1"></td>
</tr>
<tr>
  <td data-x="0" data-y="2"></td>
  <td data-x="1" data-y="2"></td>
  <td data-x="2" data-y="2"></td>
  <td data-x="3" data-y="2"></td>
  <td data-x="4" data-y="2"></td>
  <td data-x="5" data-y="2"></td>
  <td data-x="6" data-y="2"></td>
  <td data-x="7" data-y="2"></td>
  <td data-x="8" data-y="2"></td>
  <td data-x="9" data-y="2"></td>
</tr>
<tr>
  <td data-x="0" data-y="3"></td>
  <td data-x="1" data-y="3"></td>
  <td data-x="2" data-y="3"></td>
  <td data-x="3" data-y="3"></td>
  <td data-x="4" data-y="3"></td>
  <td data-x="5" data-y="3"></td>
  <td data-x="6" data-y="3"></td>
  <td data-x="7" data-y="3"></td>
  <td data-x="8" data-y="3"></td>
  <td data-x="9" data-y="3"></td>
</tr>
</table>
</div>
<br>
<div>
<button id="reset">Reset</button>
</div>
<br>
<div id="movements">
</div>

<script>
let previous = null;
const tds = document.querySelectorAll("td");
const movements = document.querySelector("div#movements");
const reset = document.querySelector("button#reset");
tds.forEach((td) => {
  td.addEventListener("click", function() {
    if (this.style.backgroundColor) {
      if (previous) {
        movements.innerHTML += `<p>[${this.dataset.x - previous.x}, ${(previous.y - this.dataset.y)*-1}]</p>`;
      }
      previous = { x: this.dataset.x, y: this.dataset.y };
      this.style.backgroundColor = "pink";
    } else {
      this.style.backgroundColor = "red";
    }
  });
});
reset.addEventListener("click", function() {
  movements.innerHTML = "";
  tds.forEach((td) => {
    if (td.style.backgroundColor) {
      td.style.backgroundColor = "red";
    }
  });
  previous = null;
});

</script>
</body>
</html>
